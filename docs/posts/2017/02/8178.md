---
creators:
  - thishostrocks.com
  - geekpi
title: 在 Ubuntu 上使用 DokuWiki 构建你自己的 wiki
date: 2017-02-06 09:09:05
date_updated: 2017-02-06 09:09:05
slug: article-8178-1.html
url: https://linux.cn/article-8178-1.html
url_from: https://thishosting.rocks/build-your-own-wiki-on-ubuntu-with-dokuwiki/
image: album/201702/06/090856n10meuei055x5wh0.jpg
tags:
  - dokuwiki
  - 维基
categories:
  - 技术
---

## Summary

> 我们团队有一个内部知识库，我们使用 DokuWiki 存储我们的所有评论、教程等。它很简单，并且易于安装和使用。在这篇文章中，我们将展示如何在 Ubuntu 16.04 服务器上安装 DokuWiki。

***

<!-- more -->

## Contents

我们在使用 [DokuWiki](https://github.com/splitbrain/dokuwiki)，它是一个真棒的工具。我们团队有一个内部知识库，我们使用 DokuWiki 存储我们的所有评论、教程等。它很简单，并且易于安装和使用。在这篇文章中，我们将展示如何在 Ubuntu 16.04 服务器上安装 DokuWiki。

`![](/data/attachment/album/201702/06/090856n10meuei055x5wh0.jpg)`

### 需求

DokuWiki 不需要太多依赖，因为它不需要数据库。这里是 DokuWiki 的要求：

* PHP 5.3.4 或更高版本（建议使用 PHP 7+）
* 一台 web 服务器（Apache/Nginx/任何其他）
* 一台 VPS。[买一台便宜的托管 VPS](http://click.aliyun.com/m/7604/)，那么你就不必这样做了。你只需与支持团队联系，他们将会为您安装。

### 指导

在你开始之前，你应该升级你的系统。运行下面的命令：

```shell
sudo apt-get update && sudo apt-get upgrade
```

### 安装 Apache

我们需要一台用于我们 wiki 的 web 服务器。我们在本教程中使用 Apache，但你也可以使用 Nginx 或任何其他 web 服务器。用下面的命令安装apache：

```shell
apt-get install apache2
```

### 安装 PHP7 和模块

接下来，如果你还没有安装 PHP，你应该先安装 PHP。在本教程中，我们使用 PHP7。所以请使用下面的命令安装 PHP7 和一些其他 PHP 模块：

```shell
apt-get install php7.0-fpm php7.0-cli php-apcu php7.0-gd php7.0-xml php7.0-curl php7.0-json php7.0-mcrypt php7.0-cgi php7.0 libapache2-mod-php7.0
```

### 下载安装 DokuWiki

下面就来到主要部分了 - 实际安装 DokuWiki。

首先，为你的 DokuWiki 创建一个目录：

```shell
mkdir -p /var/www/thrwiki
```

进入你刚才创建的目录：

```shell
cd /var/www/thrwiki
```

运行下面的命令来下载最新（稳定）的 DokuWiki：

```shell
wget http://download.dokuwiki.org/src/dokuwiki/dokuwiki-stable.tgz
```

解压 .tgz 文件：

```shell
tar xvf dokuwiki-stable.tgz
```

更改文件/文件夹权限：

```shell
www-data:www-data -R /var/www/thrwiki
chmod -R 707 /var/www/thrwiki
```

### 为 DokuWiki 配置 Apache

为你的 DokuWiki 创建一个 .conf 文件（我们把它命名为 `thrwiki.conf`，但是你可以把它命名成任何你想要的），并用你喜欢的文本编辑器打开。我们使用 nano：

```shell
touch /etc/apache2/sites-available/thrwiki.conf
ln -s /etc/apache2/sites-available/thrwiki.conf /etc/apache2/sites-enabled/thrwiki.conf
nano /etc/apache2/sites-available/thrwiki.conf
```

下面是 thrwiki.conf 中的内容：

```shell
<VirtualHost yourServerIP:80>
  ServerAdmin wikiadmin@thishosting.rocks
  DocumentRoot /var/www/thrwiki/
  ServerName wiki.thishosting.rocks
  ServerAlias www.wiki.thishosting.rocks
  <Directory /var/www/thrwiki/>
    Options FollowSymLinks
    AllowOverride All
    Order allow,deny
    Allow from all
  </Directory>
  ErrorLog /var/log/apache2/wiki.thishosting.rocks-error_log
  CustomLog /var/log/apache2/wiki.thishosting.rocks-access_log common
</VirtualHost>
```

编辑与你服务器相关的行。将 `wikiadmin@thishosting.rocks`、`wiki.thishosting.rocks` 替换成你自己的数据，重启 apache 使更改生效：

```shell
systemctl restart apache2.service
```

就是这样了。现在已经配置完成了。现在你可以继续通过前端页面 http://wiki.thishosting.rocks/install.php 安装配置 DokuWiki 了。安装完成后，你可以用下面的命令删除 install.php：

```shell
rm -f /var/www/html/thrwiki/install.php
```

如果你需要任何帮助，请随意留下评论。

---

via: <https://thishosting.rocks/build-your-own-wiki-on-ubuntu-with-dokuwiki/>

作者：[thishostrocks.com](https://twitter.com/thishostrocks) 译者：[geekpi](https://github.com/geekpi) 校对：[wxy](https://github.com/wxy)

本文由 [LCTT](https://github.com/LCTT/TranslateProject) 原创编译，[Linux中国](https://linux.cn/) 荣誉推出

***

## Comments


|   index |   评论 |   收藏 |   点赞 |   分享 |   浏览 |
|--------:|-------:|-------:|-------:|-------:|-------:|
|       0 |      2 |      2 |      0 |      0 |  22658 |

|   index | 日期                | 日期                                   | 评论                                                                                                       |
|--------:|:--------------------|:---------------------------------------|:-----------------------------------------------------------------------------------------------------------|
|       0 | 2017-02-08 06:34:55 | 来自浙江的 Mobile Safari-iOS 10.2 用户 | `楼主有没有用过VPS？VPS比apache好在哪儿呢？`                                                               |
|       1 | 2017-02-08 09:40:53 | 溯古追风 [Chrome 50.0-Windows 10]      | `VPS是从物理服务器里虚拟出来的，可以理解为就是一台服务器； Apache是一种Web服务器软件 这两者没有直接对比性` |
